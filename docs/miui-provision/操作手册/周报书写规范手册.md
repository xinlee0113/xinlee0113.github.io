---
layout: default
title: MIUI开机引导项目周报书写规范手册
parent: MiuiProvision项目文档
---

# MIUI开机引导项目周报书写规范手册

> **版本**: v1.0  
> **创建日期**: 2025-10-17  
> **适用范围**: MiuiProvisionAosp项目周报编写

---

## 📋 一、周报基本结构

### 1.1 标准模板

```markdown
# MIUI开机引导项目周报
**周期**: YYYY.MM.DD - YYYY.MM.DD | **项目**: MiuiProvisionAosp | **报告人**: XXX

## 工作概览
- **Gerrit提交**: X个(待合入) | **Gerrit Review**: X个 | **问题分析**: X个 
---

## 核心工作

### 1. 代码修复（本周X个提交）
[具体列表]

### 2. 问题批量分析（本周共X个）
[分类统计]

---

## 下周计划
[计划列表]
```

### 1.2 章节说明

| 章节 | 必填 | 说明 |
|-----|------|-----|
| 标题信息 | ✅ | 包含周期、项目名、报告人 |
| 工作概览 | ✅ | 核心数据统计（一行展示） |
| 代码修复 | ✅ | 本周提交到Gerrit的代码 |
| 问题批量分析 | ✅ | 所有问题的分类统计 |
| 下周计划 | ✅ | 下周工作重点 |

---

## 📊 二、数据统计要求

### 2.1 工作概览统计

**格式**: `**Gerrit提交**: X个(待合入) | **Gerrit Review**: X个 | **问题分析**: X个`

**数据来源**:
1. **Gerrit提交**: 实际提交到Gerrit且**非Abandoned状态**的change数量
2. **Gerrit Review**: Gerrit dashboard中"Outgoing reviews"显示的总数
3. **问题分析**: 本周分析的问题总数（包括已修复、待实施、转单、关闭）

**核对方法**:
```bash
# 查看Gerrit Review总数
访问: https://gerrit.pt.mioffice.cn/dashboard/self
查看: "Outgoing reviews (X)"

# 核对问题总数
已提交待合入 + 方案明确待实施 + 转单 + 关闭 = 问题分析总数
```

### 2.2 问题批量分析统计

**标准格式**:
```markdown
### 2. 问题批量分析（本周共X个）
**已提交待合入**: X个（BUGXX-XXXXX/BUGXX-XXXXX/...）  
**方案明确待实施**: X个（BUGXX-XXXXX/BUGXX-XXXXX/...）  
**转单**: X个（BUGXX-XXXXX→目标组 | BUGXX-XXXXX→目标组 | ...）  
**关闭**: X个（BUGXX-XXXXX原因 | BUGXX-XXXXX原因 | ...）
```

**分类标准**:

| 分类 | 含义 | 示例 |
|-----|------|-----|
| **已提交待合入** | 代码已提交Gerrit，等待review合入 | BUGLC-25275 |
| **方案明确待实施** | 根因已分析，解决方案已明确，待编码实现 | BUGOS2-716280 |
| **转单** | 问题不属于本模块，已转给其他团队 | BUGOS2-710130→BSP |
| **关闭** | 产品决策、无法复现、维持现状等原因关闭 | BUGLC-22205产品决策 |

---

## 🐛 三、Bug单号格式规范

### 3.1 完整前缀要求

**原则**: ⚠️ **所有Bug单号必须保留完整前缀，不得简写**

**正确示例**:
- ✅ `BUGOS2-244410`
- ✅ `BUGLC-25275`
- ✅ `MUT-471905`
- ✅ `RREOSBUG-24672`
- ✅ `BUGWT-5214`

**错误示例**:
- ❌ `244410`
- ❌ `25275`
- ❌ `471905`

### 3.2 常见前缀类型

| 前缀 | 说明 | 示例 |
|-----|------|-----|
| BUGOS2- | HyperOS 2.0-BUG | BUGOS2-717680 |
| BUGLC- | lc-上层bug | BUGLC-25275 |
| RREOSBUG- | RREOS问题 | RREOSBUG-24672 |
| MUT- | MUT工单 | MUT-471905 |
| BUGWT- | WT工单 | BUGWT-5214 |

### 3.3 转单格式

**格式**: `BUGXX-XXXXX→目标组`

**示例**:
- `BUGOS2-710130→BSP`
- `BUGOS2-717680→Framework-AMS`
- `RREOSBUG-24763→GMS-CloudDPC`

---

## 🔗 四、Gerrit链接处理规范

### 4.1 链接获取方法

**步骤**:
1. 访问 https://gerrit.pt.mioffice.cn/dashboard/self
2. 在"Outgoing reviews"中查看
3. **排除Abandoned状态的change**
4. 选择每个问题的**最新change**（同一问题可能有多个change）

### 4.2 Abandoned Change处理

**识别方法**:
- Gerrit中显示"Label: Abandoned"
- 在"Recently closed"section中且标记为Abandoned

**处理原则**:
- ❌ **不要列入周报的"代码修复"部分**
- ✅ **移到"方案明确待实施"分类**
- ✅ **在下周计划中注明需要重新提交**

**示例**:
```markdown
### 1. 代码修复（本周4个提交）
[仅列出非Abandoned的change]

**说明**: MUT-471905和BUGOS2-718130的change已Abandoned，未列入

## 下周计划
4. **代码重新提交**: 针对Abandoned的change重新整理提交
```

### 4.3 链接格式

**完整格式**:
```markdown
1. **BUGLC-25275** - 语言页面闪现首页（StartupFragment生命周期）  
   https://gerrit.pt.mioffice.cn/c/platform/packages/apps/MiuiProvisionAosp/+/6213016
```

**要点**:
- 每个change占2行（问题描述 + 链接）
- 链接单独一行，缩进3个空格
- 包含完整URL（不要简写）

---

## ✅ 五、格式规范

### 5.1 不使用Emoji表情

**原则**: ⚠️ **周报中不使用任何emoji表情符号**

**正确**:
```markdown
## 工作概览
## 核心工作
## 下周计划
```

**错误**:
```markdown
## 🎯 工作概览
## 📊 核心工作
## 📋 下周计划
```

### 5.2 标题层级

| 层级 | 用途 | 示例 |
|-----|------|-----|
| # | 周报标题 | # MIUI开机引导项目周报 |
| ## | 主要章节 | ## 工作概览 |
| ### | 子章节 | ### 1. 代码修复 |

### 5.3 加粗规范

**使用场景**:
- Bug单号: `**BUGOS2-244410**`
- 统计项: `**已提交待合入**:`
- 下周计划项: `**Gerrit跟进**:`

### 5.4 缩进与空行

**规则**:
- 章节之间用`---`分隔
- Gerrit链接缩进3个空格
- 列表项使用标准markdown格式

---

## 🔍 六、数据核对Checklist

### 6.1 核对步骤

**步骤1**: 核对问题总数
```
已提交待合入 + 方案明确待实施 + 转单 + 关闭 = 工作概览中的"问题分析"数量
```

**步骤2**: 核对Gerrit提交数
- 访问Gerrit dashboard
- 排除Abandoned状态
- 确认"代码修复"部分的数量与实际非Abandoned change一致

**步骤3**: 核对Gerrit Review数
- 确认与Gerrit dashboard "Outgoing reviews"显示的数量一致

**步骤4**: 核对Bug单号前缀
- 使用搜索功能检查是否有遗漏前缀的单号

### 6.2 核对工具命令

```bash
# 统计本周文档数量
find docs/问题修复 -name "*.md" -newermt "YYYY-MM-DD" -type f | wc -l

# 检查是否有遗漏前缀的Bug单号（5位数字）
grep -E "\b[0-9]{5,6}\b" docs/汇报/周报_YYYYMMDD.md
```

---

## ⚠️ 七、常见错误与注意事项

### 7.1 常见错误

| 错误 | 说明 | 正确做法 |
|-----|------|---------|
| ❌ 列入Abandoned的change | 已放弃的change不应列入代码修复 | 排除Abandoned，注明原因 |
| ❌ Bug单号缺少前缀 | 25275而非BUGLC-25275 | 保留完整前缀 |
| ❌ 问题总数不匹配 | 各分类加和≠总数 | 仔细核对每个分类 |
| ❌ 同问题多个change都列出 | 同一问题有多个change | 只列最新的一个 |
| ❌ 使用emoji表情 | 🎯📊✅等表情 | 完全移除 |

### 7.2 特殊情况处理

#### 情况1: 问题已转单但仍在"方案明确待实施"
**处理**: 移到"转单"分类

#### 情况2: 问题走澄清关单
**处理**: 移到"关闭"分类，注明"维持现状澄清关单"

#### 情况3: 折叠屏问题缺少测试机
**处理**: 在"下周计划"中注明"暂缺国内版的折叠屏机器"

#### 情况4: 问题转需求
**处理**: 
- 在"方案明确待实施"中列出
- 在"下周计划"中单独一项"问题转需求"

---

## 📝 八、下周计划编写规范

### 8.1 标准结构

```markdown
## 下周计划
1. **Gerrit跟进**: X个change完成review并合入（优先级高）
2. **代码修复**: 具体问题描述（特殊说明）
3. **问题转需求**: 具体问题（产品要求说明）
4. **代码重新提交**: 针对Abandoned的change重新整理提交
```

### 8.2 优先级排序

1. **Gerrit跟进** - 优先级最高（已有代码待合入）
2. **代码修复** - 方案明确的问题
3. **问题转需求** - 需要产品确认的问题
4. **其他跟进** - 转单、等待等

---

## 📚 九、示例参考

### 9.1 完整周报示例

参考文件: `docs/汇报/周报_20251017.md`

### 9.2 关键部分示例

**代码修复部分**:
```markdown
### 1. 代码修复（本周4个提交）
1. **BUGLC-25275** - 语言页面闪现首页（StartupFragment生命周期）  
   https://gerrit.pt.mioffice.cn/c/platform/packages/apps/MiuiProvisionAosp/+/6213016

2. **BUGOS2-244410** - 尾页关闭TalkBack闪屏（configChanges配置）  
   https://gerrit.pt.mioffice.cn/c/platform/packages/apps/MiuiProvisionAosp/+/6214451

**状态**: 已提交Gerrit，等待review合入
```

**问题分析部分**:
```markdown
### 2. 问题批量分析（本周共16个）
**已提交待合入**: 4个（BUGLC-25275/BUGOS2-244410/BUGLC-19562/BUGOS2-568848）  
**方案明确待实施**: 2个（BUGOS2-716280/BUGOS2-645980）  
**转单**: 5个（BUGOS2-710130→BSP | BUGOS2-717680→Framework-AMS | ...)  
**关闭**: 5个（RREOSBUG-24672维持现状 | BUGLC-22205产品决策 | ...)
```

---

## 🔧 十、工具与资源

### 10.1 必备工具

| 工具 | 用途 | 链接 |
|-----|------|-----|
| Gerrit Dashboard | 查看change状态 | https://gerrit.pt.mioffice.cn/dashboard/self |
| Jira | 查看问题详情 | https://jira-phone.mioffice.cn/ |
| 问题分析文档 | 参考根因和方案 | `docs/问题修复/` |

### 10.2 快速检查脚本

```bash
#!/bin/bash
# 周报数据核对脚本

WEEKLY_REPORT="docs/汇报/周报_20251017.md"

echo "=== 周报数据核对 ==="

# 检查是否有遗漏前缀的Bug单号
echo "1. 检查Bug单号前缀..."
if grep -qE "\b[0-9]{5,6}\b" "$WEEKLY_REPORT"; then
    echo "  ❌ 发现可能遗漏前缀的Bug单号:"
    grep -E "\b[0-9]{5,6}\b" "$WEEKLY_REPORT"
else
    echo "  ✅ Bug单号前缀检查通过"
fi

# 检查是否有emoji
echo "2. 检查emoji表情..."
if grep -qP "[\x{1F300}-\x{1F9FF}]" "$WEEKLY_REPORT" 2>/dev/null; then
    echo "  ❌ 发现emoji表情"
else
    echo "  ✅ 无emoji表情"
fi

echo "=== 核对完成 ==="
```

---

## 📌 十一、版本更新记录

| 版本 | 日期 | 更新内容 | 修订人 |
|-----|------|---------|--------|
| v1.0 | 2025-10-17 | 初始版本创建 | 李新 |

---

## 📮 反馈与改进

如发现本手册有遗漏或错误，请及时更新本文档。

**文档路径**: `docs/操作手册/周报书写规范手册.md`



